\documentclass[12pt]{report}

\usepackage{amsmath} % loads AMS-Math package
\usepackage{euscript}
\usepackage{amssymb}
\usepackage{epsfig} % allows PostScript files
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{listings} % allows lstlisting environment
\usepackage{moreverb} % allows listinginput environment
\usepackage{vmargin} % allows better margins
\usepackage{color}
\usepackage{mcode}
\setpapersize{USletter} % sets the paper size
\allowdisplaybreaks[1]
\setmarginsrb{1in}{0.7in}{1in}{1in}{12pt}{11mm}{0pt}{11mm} %sets margins


\title{\LaTeX \ Title }

\author{Alex Beutel  \\
{\small\em \copyright \  Draft date \today }}

 \date{ }

 %\abstract{Some bullshit}

\begin{document}

\maketitle
\begin{abstract}
	blah blah blah
\end{abstract}
 %\addcontentsline{toc}{chapter}{Contents}
\pagenumbering{roman}
\tableofcontents
\listoffigures
\listoftables

\pagestyle{headings}
\pagenumbering{arabic}

\pagestyle{plain}

\chapter{Introduction}

\input{writing/intro}

\chapter{Chaos Theory}

\section{Nonlinear Dynamics}
\label{sec: Nonlinear Dynamics}
\input{writing/nonlinearDynamics}

\section{Chaos ``Proof"}
\label{sec: Chaos ``Proof"}
\input{writing/chaosProof}

\section{Nonlinear Methods}
\label{sec: Nonlinear Methods}
\input{writing/nonlinearMethods}

\chapter{Experimental Setup}

\section{RL Diode Circuit}
\label{sec:RL Diode Circuit}
\input{writing/RLDiodeCircuit}

\section{Picoscope}
\label{sec:Picoscope}
\input{writing/picoscope}

\section{Oscilloscope}
\label{sec:Oscilloscope}
\input{writing/oscilloscope}

\chapter{Experimental Procedure}
\input{writing/experimentalProcedure}

\chapter{Results}

\section{Data Analysis} % (fold)
\label{sec:Data Analysis}

	\begin{figure}[h]
		\centering
		\includegraphics{plots/general.pdf}
		\label{fig:periodDoubling}
		\caption{Period Doubling}
	\end{figure}

\input{writing/periodDoubling}

	\begin{figure}[h]
		\centering
		\input{plots/80khz}
		\label{fig:80khzBifurcation}
		\caption{80 kHz Bifurcation plot. $V_{\rm drive}$ error: 0.1 V. $V_{\rm R}$ error: 5 mV.}
	\end{figure}

	\begin{figure}[h]
		\centering
		\input{plots/100khz}
		\label{fig:100khzBifurcation}
		\caption{100 kHz Bifurcation plot. $V_{\rm drive}$ error: 0.1 V. $V_{\rm R}$ error: 5 mV.}
	\end{figure}
	
\input{writing/bifurcationPlots}
	
	\begin{table}
		\centering
		\begin{tabular}{|c|c|c|c|c|}
			\hline
			\input{zach-data/feigenbaum} 
		\end{tabular}
		\label{tab:fegeinbaum}
		\caption{Final averaged Feigenbaum ratios}
	\end{table}
	
	\begin{figure}
		\centering
		\includegraphics{Pics/Bifurcation Diagram.jpg}
		\label{fig: Calculating Feigenbaum ratios}
		\caption{Calculating Feigenbaum ratios}
	\end{figure}
	
\input{writing/finalFeigenbaumRatios}

% section Data Analysis (end)

\section{Error Analysis} % (fold)
\label{sec:Error Analysis}
\input{writing/errorAnalysis}

% section Error Analysis (end)

\chapter{Simulations} % (fold)
\label{ch:Simulations}

	\begin{figure}[h]
		\centering
		\includegraphics{simulations/circuit.png}
		\label{fig: Simulation Bifurcation Diagram}
		\caption{Simulation Bifurcation Diagram}
	\end{figure}

	\begin{figure}
		\centering
		\includegraphics{simulations/plotnu0120.png}
		\label{fig:sim.0120}
		\caption{Simulation with $\nu=0.120$}
	\end{figure}
	
	\begin{figure}
		\centering
		\includegraphics{simulations/plotnu0390.png}
		\label{fig:sim.0390}
		\caption{Chaos at $\nu=0.390$}
	\end{figure}

\input{writing/simulationExplanation}

% section Simulations (end)

    %\pagebreak

\chapter*{Appendix}

\section{Data}
\label{sec:Data}

	\begin{table}
		\centering
		\begin{tabular}{|l|l|l||l|l|l|}
			\hline
			\input{data/80khz.2} 
		\end{tabular}
		\label{tab:80khz}
		\caption{Data for Bifurcation plot, 80 kHz}
	\end{table}

	\begin{table}
		\centering
		\begin{tabular}{|l|l|l|l||l|l|l|l|}
			\hline
			\input{data/100khz.2} 
		\end{tabular}
		\label{tab:100khz}
		\caption{Data for Bifurcation plot, 100 kHz}
	\end{table}

	\begin{table}
		\centering
		\begin{tabular}{|c|c|c|c|c|}
			\hline
			\input{zach-data/chaos3} 
		\end{tabular}
		\label{tab:chaos3}
		\caption{Five trials at 10.4 V. Frequency varied.}
	\end{table}

	\begin{table}
		\centering
		\begin{tabular}{|l|l|l|l|l|l|l|l|l|l|l|l|}
			\hline
			\input{zach-data/chaos2_1} 
		\end{tabular}
		\label{tab:chaos2}
		\caption{Five trials at 80 kHz. Voltage varied.}
	\end{table}
	
	\begin{table}
		\centering
		\begin{tabular}{|l|l|l|l|l|l|l|l|l|l|l|l|}
			\hline
			\input{zach-data/chaos2_2} 
		\end{tabular}
		\label{tab:chaos2}
		\caption{Five trials at 120 kHz. Voltage varied.}
	\end{table}

\section{Code}
\label{sec: Code}

\begin{figure}[h]
\begin{lstlisting}
function dy = ode1(t,y)

global C1 C2 R1 L1 f E0 nu

dy = zeros(2,1);
dy(1) = y(2);
dy(2) = (-R1*y(2)-( (C2-C1)/(2*C2*C1)*abs(y(1))+ (C1+C2)/(2*C1*C2)*y(1)+E0)
	+ nu * sin(2*pi*f*t))/L1;
\end{lstlisting}
\label{code:ode}
\caption{Code for RL circuit ODE}
\end{figure}

\begin{figure}[h]
\begin{lstlisting}
global C1 C2 R1 L1 f E0 nu

C1 = 0.1 * 10^-6;
C2 = 400.0 * 10^-12;
R1 = 60.0;
L1 = 100.0 * 10^-6;
f = 700000.0;
E0 = 0.1;
nuinit = 0.1;

nuinc = 0.01;
numax = 0.7;
nu = nuinit;

for j=1:((numax-nuinit)/nuinc)
    [T,Y] = ode45(@ode1,[10^-4,100.0*10^-4],[0,0]);
    plot(nu * sin(2*pi*f*T(200:600)),Y(200:600,2)*R1)
    ti = sprintf('Nu=%6.3f', nu);
    fi = sprintf('plots2/plot.nu.%6.3f.png', nu);
    title(ti)
    print('-dpng', fi)
    nu = nu + nuinc;
end
\end{lstlisting}
	\label{code:run}
	\caption{Code for iterating through parameters of RL circuit}
\end{figure}


\end{document}

